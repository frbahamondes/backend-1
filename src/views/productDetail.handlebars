{{!-- productDetail.handlebars --}}

<h1>Detalles del Producto</h1>

<!-- üõí Bot√≥n para ver el carrito -->
<div class="cart-container">
    <a id="cart-link" href="#" class="cart-btn">üõí Ver mi carrito</a>
</div>

<div class="product-detail">
    <h2>{{product.title}}</h2>
    <p><strong>Descripci√≥n:</strong> {{product.description}}</p>
    <p><strong>Precio:</strong> ${{product.price}}</p>
    <p><strong>Categor√≠a:</strong> {{product.category}}</p>
    <p><strong>Stock disponible:</strong> {{product.stock}}</p>
    <p><strong>Estado:</strong> {{#if product.status}}‚úÖ Disponible{{else}}‚ùå No disponible{{/if}}</p>

    <button id="addToCart" class="add-btn" data-id="{{product._id}}">üõí Agregar al carrito</button>
</div>

<a href="/products">‚¨Ö Volver a Productos</a>

<script src="/js/productDetail.js"></script>

<script>
    // ‚úÖ Actualizar enlace del carrito con el ID almacenado
    document.addEventListener("DOMContentLoaded", () => {
        const cartId = localStorage.getItem("cartId");
        const cartLink = document.getElementById("cart-link");

        if (cartId) {
            cartLink.href = `/carts/${cartId}`;
        } else {
            cartLink.href = "#";
            cartLink.style.pointerEvents = "none";
            cartLink.style.opacity = "0.5";
        }
    });
</script>